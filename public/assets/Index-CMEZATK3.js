import{b as ye,c as ze,Q as A,a as Ae}from"./use-id-gepe3Jh6.js";import{m as Z,v as C,O as se,W as Be,X as k,n as De,Y as Te,Z as Q,_ as j,$ as de,a0 as F,a1 as J,a2 as L,M as Qe,y as g,c as f,a3 as He,G as ee,J as Ne,K as Ue,H as je,x as Se,a4 as Fe,a5 as Le,o as b,j as $,a as q,g as w,f as te,b as p,F as M,p as Ce,w as _,l as N,h as ae,a6 as X,a7 as Xe,u as Ye,z as We}from"./index-B9gGh2h-.js";import{Q as ce,a as Re}from"./QScrollObserver-Brr5Rt0I.js";import{c as Ke,b as x}from"./QMenu-BP7PDcoD.js";import{s as Y,a as ve}from"./scroll-CCDfRL-y.js";import{h as Ge}from"./render-CKxYlp_X.js";import{Q as Je}from"./QPage-D_omZzAE.js";import{l as H}from"./lodash-GPf9vRUq.js";import{u as Ze}from"./use-quasar-CZ7tQK73.js";import{Q as _e}from"./QBtn-nYmPEcgg.js";import{Q as qe,a as $e,_ as et}from"./HelpTipDescPopup-Da_SmRuQ.js";import{Q as Oe}from"./QInput-C5NUMrgk.js";import{Q as tt}from"./QImg-DHv46QM8.js";import{api as at}from"./axios-NnF4uGFg.js";import"./uid-CaIkVkpY.js";import"./use-router-link-vIZQIxnf.js";import"./dom-CqEta6Fm.js";import"./use-tick-BOhJkGpV.js";import"./use-model-toggle-BW7I_vfG.js";import"./use-align-B_K2qw1_.js";const lt=Z({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(t){return()=>[C("div",{class:t.store.scroll.vertical.barClass.value,style:[t.barStyle,t.verticalBarStyle],"aria-hidden":"true",onMousedown:t.store.onVerticalMousedown}),C("div",{class:t.store.scroll.horizontal.barClass.value,style:[t.barStyle,t.horizontalBarStyle],"aria-hidden":"true",onMousedown:t.store.onHorizontalMousedown}),se(C("div",{ref:t.store.scroll.vertical.ref,class:t.store.scroll.vertical.thumbClass.value,style:t.store.scroll.vertical.style.value,"aria-hidden":"true"}),t.store.thumbVertDir),se(C("div",{ref:t.store.scroll.horizontal.ref,class:t.store.scroll.horizontal.thumbClass.value,style:t.store.scroll.horizontal.style.value,"aria-hidden":"true"}),t.store.thumbHorizDir)]}}),le={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},nt=Object.keys(le);le.all=!0;function me(t){const i={};for(const s of nt)t[s]===!0&&(i[s]=!0);return Object.keys(i).length===0?le:(i.horizontal===!0?i.left=i.right=!0:i.left===!0&&i.right===!0&&(i.horizontal=!0),i.vertical===!0?i.up=i.down=!0:i.up===!0&&i.down===!0&&(i.vertical=!0),i.horizontal===!0&&i.vertical===!0&&(i.all=!0),i)}const it=["INPUT","TEXTAREA"];function fe(t,i){return i.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof i.handler=="function"&&it.includes(t.target.nodeName.toUpperCase())===!1&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(i.uid)===-1)}function W(t,i,s){const u=J(t);let e,n=u.left-i.event.x,l=u.top-i.event.y,a=Math.abs(n),r=Math.abs(l);const c=i.direction;c.horizontal===!0&&c.vertical!==!0?e=n<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?e=l<0?"up":"down":c.up===!0&&l<0?(e="up",a>r&&(c.left===!0&&n<0?e="left":c.right===!0&&n>0&&(e="right"))):c.down===!0&&l>0?(e="down",a>r&&(c.left===!0&&n<0?e="left":c.right===!0&&n>0&&(e="right"))):c.left===!0&&n<0?(e="left",a<r&&(c.up===!0&&l<0?e="up":c.down===!0&&l>0&&(e="down"))):c.right===!0&&n>0&&(e="right",a<r&&(c.up===!0&&l<0?e="up":c.down===!0&&l>0&&(e="down")));let y=!1;if(e===void 0&&s===!1){if(i.event.isFirst===!0||i.event.lastDir===void 0)return{};e=i.event.lastDir,y=!0,e==="left"||e==="right"?(u.left-=n,a=0,n=0):(u.top-=l,r=0,l=0)}return{synthetic:y,payload:{evt:t,touch:i.event.mouse!==!0,mouse:i.event.mouse===!0,position:u,direction:e,isFirst:i.event.isFirst,isFinal:s===!0,duration:Date.now()-i.event.time,distance:{x:a,y:r},offset:{x:n,y:l},delta:{x:u.left-i.event.lastX,y:u.top-i.event.lastY}}}}let rt=0;const he=Be({name:"touch-pan",beforeMount(t,{value:i,modifiers:s}){if(s.mouse!==!0&&k.has.touch!==!0)return;function u(n,l){s.mouse===!0&&l===!0?Qe(n):(s.stop===!0&&F(n),s.prevent===!0&&de(n))}const e={uid:"qvtp_"+rt++,handler:i,modifiers:s,direction:me(s),noop:De,mouseStart(n){fe(n,e)&&Te(n)&&(Q(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(n,!0))},touchStart(n){if(fe(n,e)){const l=n.target;Q(e,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","passiveCapture"],[l,"touchend","end","passiveCapture"]]),e.start(n)}},start(n,l){if(k.is.firefox===!0&&j(t,!0),e.lastEvt=n,l===!0||s.stop===!0){if(e.direction.all!==!0&&(l!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const c=n.type.indexOf("mouse")!==-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&de(c),n.cancelBubble===!0&&F(c),Object.assign(c,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[e.uid]:n.qClonedBy.concat(e.uid)}),e.initialEvent={target:n.target,event:c}}F(n)}const{left:a,top:r}=J(n);e.event={x:a,y:r,time:Date.now(),mouse:l===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:a,lastY:r}},move(n){if(e.event===void 0)return;const l=J(n),a=l.left-e.event.x,r=l.top-e.event.y;if(a===0&&r===0)return;e.lastEvt=n;const c=e.event.mouse===!0,y=()=>{u(n,c);let z;s.preserveCursor!==!0&&s.preservecursor!==!0&&(z=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ke(),e.styleCleanup=S=>{if(e.styleCleanup=void 0,z!==void 0&&(document.documentElement.style.cursor=z),document.body.classList.remove("non-selectable"),c===!0){const I=()=>{document.body.classList.remove("no-pointer-events--children")};S!==void 0?setTimeout(()=>{I(),S()},50):I()}else S!==void 0&&S()}};if(e.event.detected===!0){e.event.isFirst!==!0&&u(n,e.event.mouse);const{payload:z,synthetic:S}=W(n,e,!1);z!==void 0&&(e.handler(z)===!1?e.end(n):(e.styleCleanup===void 0&&e.event.isFirst===!0&&y(),e.event.lastX=z.position.left,e.event.lastY=z.position.top,e.event.lastDir=S===!0?void 0:z.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||c===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){y(),e.event.detected=!0,e.move(n);return}const v=Math.abs(a),m=Math.abs(r);v!==m&&(e.direction.horizontal===!0&&v>m||e.direction.vertical===!0&&v<m||e.direction.up===!0&&v<m&&r<0||e.direction.down===!0&&v<m&&r>0||e.direction.left===!0&&v>m&&a<0||e.direction.right===!0&&v>m&&a>0?(e.event.detected=!0,e.move(n)):e.end(n,!0))},end(n,l){if(e.event!==void 0){if(L(e,"temp"),k.is.firefox===!0&&j(t,!1),l===!0)e.styleCleanup!==void 0&&e.styleCleanup(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(W(n===void 0?e.lastEvt:n,e).payload);const{payload:a}=W(n===void 0?e.lastEvt:n,e,!0),r=()=>{e.handler(a)};e.styleCleanup!==void 0?e.styleCleanup(r):r()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(t.__qtouchpan=e,s.mouse===!0){const n=s.mouseCapture===!0||s.mousecapture===!0?"Capture":"";Q(e,"main",[[t,"mousedown","mouseStart",`passive${n}`]])}k.has.touch===!0&&Q(e,"main",[[t,"touchstart","touchStart",`passive${s.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,i){const s=t.__qtouchpan;s!==void 0&&(i.oldValue!==i.value&&(typeof value!="function"&&s.end(),s.handler=i.value),s.direction=me(i.modifiers))},beforeUnmount(t){const i=t.__qtouchpan;i!==void 0&&(i.event!==void 0&&i.end(),L(i,"main"),L(i,"temp"),k.is.firefox===!0&&j(t,!1),i.styleCleanup!==void 0&&i.styleCleanup(),delete t.__qtouchpan)}}),pe=["vertical","horizontal"],R={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},be={prevent:!0,mouse:!0,mouseAllDir:!0},ge=t=>t>=250?50:Math.ceil(t/5),ot=Z({name:"QScrollArea",props:{...ye,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(t,{slots:i,emit:s}){const u=g(!1),e=g(!1),n=g(!1),l={vertical:g(0),horizontal:g(0)},a={vertical:{ref:g(null),position:g(0),size:g(0)},horizontal:{ref:g(null),position:g(0),size:g(0)}},{proxy:r}=Se(),c=ze(t,r.$q);let y=null,v;const m=g(null),z=f(()=>"q-scrollarea"+(c.value===!0?" q-scrollarea--dark":""));Object.assign(l,{verticalInner:f(()=>l.vertical.value-t.verticalOffset[0]-t.verticalOffset[1]),horizontalInner:f(()=>l.horizontal.value-t.horizontalOffset[0]-t.horizontalOffset[1])}),a.vertical.percentage=f(()=>{const o=a.vertical.size.value-l.vertical.value;if(o<=0)return 0;const d=x(a.vertical.position.value/o,0,1);return Math.round(d*1e4)/1e4}),a.vertical.thumbHidden=f(()=>(t.visible===null?n.value:t.visible)!==!0&&u.value===!1&&e.value===!1||a.vertical.size.value<=l.vertical.value+1),a.vertical.thumbStart=f(()=>t.verticalOffset[0]+a.vertical.percentage.value*(l.verticalInner.value-a.vertical.thumbSize.value)),a.vertical.thumbSize=f(()=>Math.round(x(l.verticalInner.value*l.verticalInner.value/a.vertical.size.value,ge(l.verticalInner.value),l.verticalInner.value))),a.vertical.style=f(()=>({...t.thumbStyle,...t.verticalThumbStyle,top:`${a.vertical.thumbStart.value}px`,height:`${a.vertical.thumbSize.value}px`,right:`${t.horizontalOffset[1]}px`})),a.vertical.thumbClass=f(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.vertical.barClass=f(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),a.horizontal.percentage=f(()=>{const o=a.horizontal.size.value-l.horizontal.value;if(o<=0)return 0;const d=x(Math.abs(a.horizontal.position.value)/o,0,1);return Math.round(d*1e4)/1e4}),a.horizontal.thumbHidden=f(()=>(t.visible===null?n.value:t.visible)!==!0&&u.value===!1&&e.value===!1||a.horizontal.size.value<=l.horizontal.value+1),a.horizontal.thumbStart=f(()=>t.horizontalOffset[0]+a.horizontal.percentage.value*(l.horizontalInner.value-a.horizontal.thumbSize.value)),a.horizontal.thumbSize=f(()=>Math.round(x(l.horizontalInner.value*l.horizontalInner.value/a.horizontal.size.value,ge(l.horizontalInner.value),l.horizontalInner.value))),a.horizontal.style=f(()=>({...t.thumbStyle,...t.horizontalThumbStyle,[r.$q.lang.rtl===!0?"right":"left"]:`${a.horizontal.thumbStart.value}px`,width:`${a.horizontal.thumbSize.value}px`,bottom:`${t.verticalOffset[1]}px`})),a.horizontal.thumbClass=f(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.horizontal.barClass=f(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const S=f(()=>a.vertical.thumbHidden.value===!0&&a.horizontal.thumbHidden.value===!0?t.contentStyle:t.contentActiveStyle);function I(){const o={};return pe.forEach(d=>{const h=a[d];Object.assign(o,{[d+"Position"]:h.position.value,[d+"Percentage"]:h.percentage.value,[d+"Size"]:h.size.value,[d+"ContainerSize"]:l[d].value,[d+"ContainerInnerSize"]:l[d+"Inner"].value})}),o}const ne=He(()=>{const o=I();o.ref=r,s("scroll",o)},0);function ie(o,d,h){if(pe.includes(o)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(o==="vertical"?ve:Y)(m.value,d,h)}function Ve({height:o,width:d}){let h=!1;l.vertical.value!==o&&(l.vertical.value=o,h=!0),l.horizontal.value!==d&&(l.horizontal.value=d,h=!0),h===!0&&B()}function Ee({position:o}){let d=!1;a.vertical.position.value!==o.top&&(a.vertical.position.value=o.top,d=!0),a.horizontal.position.value!==o.left&&(a.horizontal.position.value=o.left,d=!0),d===!0&&B()}function Me({height:o,width:d}){a.horizontal.size.value!==d&&(a.horizontal.size.value=d,B()),a.vertical.size.value!==o&&(a.vertical.size.value=o,B())}function re(o,d){const h=a[d];if(o.isFirst===!0){if(h.thumbHidden.value===!0)return;v=h.position.value,e.value=!0}else if(e.value!==!0)return;o.isFinal===!0&&(e.value=!1);const V=R[d],P=(h.size.value-l[d].value)/(l[d+"Inner"].value-h.thumbSize.value),T=o.distance[V.dist],U=v+(o.direction===V.dir?1:-1)*T*P;ue(U,d)}function oe(o,d){const h=a[d];if(h.thumbHidden.value!==!0){const V=d==="vertical"?t.verticalOffset[0]:t.horizontalOffset[0],P=o[R[d].offset]-V,T=h.thumbStart.value-V;if(P<T||P>T+h.thumbSize.value){const U=P-h.thumbSize.value/2,xe=x(U/(l[d+"Inner"].value-h.thumbSize.value),0,1);ue(xe*Math.max(0,h.size.value-l[d].value),d)}h.ref.value!==null&&h.ref.value.dispatchEvent(new MouseEvent(o.type,o))}}function B(){u.value=!0,y!==null&&clearTimeout(y),y=setTimeout(()=>{y=null,u.value=!1},t.delay),t.onScroll!==void 0&&ne()}function ue(o,d){m.value[R[d].scroll]=o}let O=null;function Ie(){O!==null&&clearTimeout(O),O=setTimeout(()=>{O=null,n.value=!0},r.$q.platform.is.ios?50:0)}function Pe(){O!==null&&(clearTimeout(O),O=null),n.value=!1}let D=null;ee(()=>r.$q.lang.rtl,o=>{m.value!==null&&Y(m.value,Math.abs(a.horizontal.position.value)*(o===!0?-1:1))}),Ne(()=>{D={top:a.vertical.position.value,left:a.horizontal.position.value}}),Ue(()=>{if(D===null)return;const o=m.value;o!==null&&(Y(o,D.left),ve(o,D.top))}),je(ne.cancel),Object.assign(r,{getScrollTarget:()=>m.value,getScroll:I,getScrollPosition:()=>({top:a.vertical.position.value,left:a.horizontal.position.value}),getScrollPercentage:()=>({top:a.vertical.percentage.value,left:a.horizontal.percentage.value}),setScrollPosition:ie,setScrollPercentage(o,d,h){ie(o,d*(a[o].size.value-l[o].value)*(o==="horizontal"&&r.$q.lang.rtl===!0?-1:1),h)}});const ke={scroll:a,thumbVertDir:[[he,o=>{re(o,"vertical")},void 0,{vertical:!0,...be}]],thumbHorizDir:[[he,o=>{re(o,"horizontal")},void 0,{horizontal:!0,...be}]],onVerticalMousedown(o){oe(o,"vertical")},onHorizontalMousedown(o){oe(o,"horizontal")}};return()=>C("div",{class:z.value,onMouseenter:Ie,onMouseleave:Pe},[C("div",{ref:m,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:t.tabindex!==void 0?t.tabindex:void 0},[C("div",{class:"q-scrollarea__content absolute",style:S.value},Ge(i.default,[C(ce,{debounce:0,onResize:Me})])),C(Re,{axis:"both",onScroll:Ee})]),C(ce,{debounce:0,onResize:Ve}),C(lt,{store:ke,barStyle:t.barStyle,verticalBarStyle:t.verticalBarStyle,horizontalBarStyle:t.horizontalBarStyle})])}}),ut={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},K={xs:2,sm:4,md:8,lg:16,xl:24},we=Z({name:"QSeparator",props:{...ye,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(t){const i=Se(),s=ze(t,i.proxy.$q),u=f(()=>t.vertical===!0?"vertical":"horizontal"),e=f(()=>` q-separator--${u.value}`),n=f(()=>t.inset!==!1?`${e.value}-${ut[t.inset]}`:""),l=f(()=>`q-separator${e.value}${n.value}`+(t.color!==void 0?` bg-${t.color}`:"")+(s.value===!0?" q-separator--dark":"")),a=f(()=>{const r={};if(t.size!==void 0&&(r[t.vertical===!0?"width":"height"]=t.size),t.spaced!==!1){const c=t.spaced===!0?`${K.md}px`:t.spaced in K?`${K[t.spaced]}px`:t.spaced,y=t.vertical===!0?["Left","Right"]:["Top","Bottom"];r[`margin${y[0]}`]=r[`margin${y[1]}`]=c}return r});return()=>C("hr",{class:l.value,style:a.value,"aria-orientation":u.value})}}),st={class:"q-my-md q-px-md"},dt={key:0,class:"q-mt-sm"},E={__name:"IndividualsDetailColumnsDetailsDetail",props:Fe(["separate","image"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const i=Le(t,"modelValue");return(s,u)=>(b(),$(M,null,[t.separate!==!1?(b(),q(we,{key:0})):w("",!0),te("div",st,[p(Oe,{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=e=>i.value=e),outlined:""},null,8,["modelValue"]),t.image?(b(),$("div",dt,[p(tt,{src:i.value,fit:"contain",height:"100px"},null,8,["src"])])):w("",!0)])],64))}},ct={key:0,style:{height:"80px"},class:"q-px-xl"},vt={__name:"IndividualsDetailColumnsDetails",props:["params","individual","code"],emits:["commit","push"],setup(t,{emit:i}){const s=t,u=Ce("updates"),e=g(!1),n=f(()=>e.value&&u.value.indexOf(s.code)>-1);return ee(u,function(l){l.indexOf(s.code)!==-1&&e.value&&(e.value=!1)},{immediate:!0,deep:!0}),(l,a)=>t.code!=="NEW"?(b(),q(A,{key:0,class:"q-px-none"},{default:_(()=>[p(E,{modelValue:t.individual.name,"onUpdate:modelValue":a[0]||(a[0]=r=>l.$emit("commit",{name:r})),separate:!1,image:!1},null,8,["modelValue"]),p(E,{modelValue:t.individual.designation,"onUpdate:modelValue":a[1]||(a[1]=r=>l.$emit("commit",{designation:r})),image:!1},null,8,["modelValue"]),(b(!0),$(M,null,N(t.params,r=>(b(),q(E,{modelValue:t.individual[r.attr],"onUpdate:modelValue":c=>l.$emit("commit",{[r.attr]:c}),key:"EP-"+t.individual.code+"/"+r.id,image:r.image},null,8,["modelValue","onUpdate:modelValue","image"]))),128)),ae(u).indexOf(t.code)>-1?(b(),$("div",ct,[p(_e,{color:"primary",label:"Update",class:"full-width",onClick:a[2]||(a[2]=r=>{e.value=!0,l.$emit("push")}),loading:n.value},null,8,["loading"])])):w("",!0),p(qe,{showing:n.value,class:"absolute-center full-width"},{default:_(()=>[p($e,{size:"xl"})]),_:1},8,["showing"])]),_:1})):w("",!0)}},mt={key:0,style:{height:"80px"},class:"q-px-xl"},ft={__name:"IndividualsDetailColumnsCreate",props:["params","individual","code"],emits:["commit","push"],setup(t,{emit:i}){const s=t,u=Ce("updates"),e=g(!1),n=f(()=>e.value&&u.value.indexOf(s.code)>-1);return ee(u,function(l){l.indexOf(s.code)!==-1&&e.value&&(e.value=!1)},{immediate:!0,deep:!0}),(l,a)=>(b(),q(A,{class:"q-px-none"},{default:_(()=>[p(E,{modelValue:t.individual.name,"onUpdate:modelValue":a[0]||(a[0]=r=>l.$emit("commit",{name:r})),separate:!1,image:!1},null,8,["modelValue"]),p(E,{modelValue:t.individual.designation,"onUpdate:modelValue":a[1]||(a[1]=r=>l.$emit("commit",{designation:r})),image:!1},null,8,["modelValue"]),(b(!0),$(M,null,N(t.params,r=>(b(),q(E,{modelValue:t.individual[r.attr],"onUpdate:modelValue":c=>l.$emit("commit",{[r.attr]:c}),key:"EP-"+t.individual.code+"/"+r.id,image:r.image},null,8,["modelValue","onUpdate:modelValue","image"]))),128)),ae(u).indexOf(t.code)>-1?(b(),$("div",mt,[p(_e,{color:"primary",label:"Save",class:"full-width",onClick:a[2]||(a[2]=r=>{e.value=!0,l.$emit("push")}),loading:n.value},null,8,["loading"])])):w("",!0),p(qe,{showing:n.value,class:"absolute-center full-width"},{default:_(()=>[p($e,{size:"xl"})]),_:1},8,["showing"])]),_:1}))}},ht={__name:"IndividualsDetailColumns",props:["span_height","params","individuals"],emits:["commit","push"],setup(t){const{screen:i}=Ze(),s=f(()=>Math.floor(i.width*50/100)+"px"),u=t,e=f(()=>u.span_height);return(n,l)=>(b(),q(A,{horizontal:"",class:"individuals_column",style:X("min-height:"+e.value)},{default:_(()=>[(b(!0),$(M,null,N(u.individuals,(a,r)=>(b(),q(vt,{style:X("width:"+s.value+";min-height:"+u.span_height),class:"individual_column",params:u.params,key:"i-"+r,code:r,individual:a,onCommit:c=>n.$emit("commit",{code:r,attrValue:c}),onPush:c=>n.$emit("push",r)},null,8,["style","params","code","individual","onCommit","onPush"]))),128)),p(ft,{style:X("width:"+s.value+";min-height:"+u.span_height),class:"individual_column",params:u.params,code:"NEW",individual:u.individuals.NEW,onCommit:l[0]||(l[0]=a=>n.$emit("commit",{code:"NEW",attrValue:a})),onPush:l[1]||(l[1]=a=>n.$emit("push","NEW"))},null,8,["style","params","individual"])]),_:1},8,["style"]))}},pt={class:"q-my-md q-px-sm"},bt={key:0,class:"q-mt-sm",style:{height:"100px"}},G={__name:"IndividualsAttributeColumnAttribute",props:["separate","param"],setup(t){return(i,s)=>(b(),$(M,null,[t.separate!==!1?(b(),q(we,{key:0})):w("",!0),te("div",pt,[p(Oe,{"model-value":ae(H.startCase)(t.param.attr),borderless:"",readonly:"",disable:""},Xe({_:2},[t.param.description?{name:"after",fn:_(()=>[p(et,{description:t.param.description},null,8,["description"])]),key:"0"}:void 0]),1032,["model-value"]),t.param.image?(b(),$("div",bt," ")):w("",!0)])],64))}},gt={__name:"IndividualsAttributeColumn",props:["params"],setup(t){const i=t;return(s,u)=>(b(),q(A,{class:"attr_column q-px-none"},{default:_(()=>[p(G,{param:{attr:"name"},separate:!1}),p(G,{param:{attr:"designation"}}),(b(!0),$(M,null,N(i.params,e=>(b(),q(G,{key:e.id,param:e},null,8,["param"]))),128)),u[0]||(u[0]=te("div",{style:{height:"80px"}}," ",-1))]),_:1}))}},Qt={__name:"Index",setup(t){Ye(v=>({df06989e:u.value}));const i=g(__INDIVIDUALS);i.value.NEW={};const s=g(H.filter(__COMPANY.layout.master.attrs,"individual")),u=g("100px"),e=g([]);function n(v,m){u.value=m-v+80+"px"}function l({code:v,attrValue:m}){H.map(m,(z,S)=>i.value[v][S]=z),r(v)}function a(v){at("individual",{code:v,individual:i.value[v]}).then(function(m){y(m.code,m),c(v),i.value.NEW={}})}function r(v){e.value.indexOf(v)===-1&&e.value.push(v)}function c(v){let m=e.value.indexOf(v);m>-1&&e.value.splice(m,1)}function y(v,m){i.value.hasOwnProperty(v)||(i.value[v]={}),H.map(m,(z,S)=>i.value[v][S]=z)}return We("updates",e),(v,m)=>(b(),q(Je,{styleFn:n},{default:_(()=>[p(Ae,{flat:"",square:""},{default:_(()=>[p(A,{horizontal:""},{default:_(()=>[p(gt,{params:s.value},null,8,["params"]),p(ot,{class:"col-grow scroll_area"},{default:_(()=>[p(ht,{span_height:u.value,params:s.value,individuals:i.value,onCommit:l,onPush:a},null,8,["span_height","params","individuals"])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Qt as default};
