import{d as T}from"./use-router-link-wyXR759F.js";import{G as g,L as U,x as h,N as x}from"./index-VwiL2NHP.js";const j={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},k=["beforeShow","show","beforeHide","hide"];function q({showing:l,canShow:r,hideOnRouteChange:a,handleShow:f,handleHide:s,processOnMount:y}){const i=h(),{props:u,emit:o,proxy:c}=i;let n;function H(e){l.value===!0?d(e):m(e)}function m(e){if(u.disable===!0||e!==void 0&&e.qAnchorHandled===!0||r!==void 0&&r(e)!==!0)return;const t=u["onUpdate:modelValue"]!==void 0;t===!0&&(o("update:modelValue",!0),n=e,x(()=>{n===e&&(n=void 0)})),(u.modelValue===null||t===!1)&&p(e)}function p(e){l.value!==!0&&(l.value=!0,o("beforeShow",e),f!==void 0?f(e):o("show",e))}function d(e){if(u.disable===!0)return;const t=u["onUpdate:modelValue"]!==void 0;t===!0&&(o("update:modelValue",!1),n=e,x(()=>{n===e&&(n=void 0)})),(u.modelValue===null||t===!1)&&V(e)}function V(e){l.value!==!1&&(l.value=!1,o("beforeHide",e),s!==void 0?s(e):o("hide",e))}function b(e){u.disable===!0&&e===!0?u["onUpdate:modelValue"]!==void 0&&o("update:modelValue",!1):e===!0!==l.value&&(e===!0?p:V)(n)}g(()=>u.modelValue,b),a!==void 0&&T(i)===!0&&g(()=>c.$route.fullPath,()=>{a.value===!0&&l.value===!0&&d()}),y===!0&&U(()=>{b(u.modelValue)});const M={show:m,hide:d,toggle:H};return Object.assign(c,M),M}export{k as a,q as b,j as u};
